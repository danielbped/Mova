(this["webpackJsonpmova-app"]=this["webpackJsonpmova-app"]||[]).push([[0],{28:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(22),o=n.n(r),s=(n(28),n(8)),i=n.n(s),u=n(2),l=n(13),j=n(10),b=Object(a.createContext)({countries:{}}),f=n(0);var d=function(e){var t=e.children,n=Object(a.useState)({countries:{},currentPage:0,loading:!0}),c=Object(j.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)({filter:"",option:"",filterOptions:{},loaded:!1}),d=Object(j.a)(s,2),x=d[0],p=d[1],m=Object(a.useState)("https://restcountries.eu/rest/v2/all"),O=Object(j.a)(m,2),h=O[0],v=O[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h);case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,!r.loading){e.next=10;break}if(o(Object(u.a)(Object(u.a)({},r),{},{countries:n,loading:!1})),x.loaded){e.next=10;break}return e.abrupt("return",p(Object(u.a)(Object(u.a)({},x),{},{filterOptions:n,loaded:!0})));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[h,r,x]),Object(a.useEffect)((function(){!function(e){if(""!==e.option)switch(e.filter){case"country":v("https://restcountries.eu/rest/v2/alpha/".concat(e.option));break;case"region":v("https://restcountries.eu/rest/v2/region/".concat(e.option));break;case"language":v("https://restcountries.eu/rest/v2/lang/".concat(e.option));break;case"call-code":v("https://restcountries.eu/rest/v2/callingcode/".concat(e.option));break;case"capital":v("https://restcountries.eu/rest/v2/capital/".concat(e.option));break;default:v("https://restcountries.eu/rest/v2/all")}}(x)}),[x]),Object(f.jsx)(b.Provider,{value:{data:r,setData:o,filters:x,setFilter:p,API:h},children:t})},x=n(9),p=n(3),m=n.p+"static/media/footer_mova.43963ad3.svg",O=n.p+"static/media/arrow_back.c26c0992.svg";var h=function(){return Object(f.jsxs)("header",{className:" flex justify-between color: bg-gray-200 shadow-xl",children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{className:" w-14 m-5",src:m,alt:"Mova"})}),Object(p.f)().pathname.includes("/countries/")?Object(f.jsx)("div",{children:Object(f.jsx)(x.b,{style:{textDecoration:"none"},to:"/",children:Object(f.jsxs)("button",{className:" flex m-5 p-2 pr-2 border border-8 border-purple-800 font-bold no-underline text-purple-800 focus:outline-none hover:opacity-80 duration-500",type:"button",children:[Object(f.jsx)("img",{className:"w-5 mx-2 self-center text-purple-800",src:O,alt:"back"}),"Voltar"]})})}):null]})},v=n(12);var g=function(e){var t=e.options,n=Object(a.useContext)(b),c=n.filters,r=n.setFilter;return Object(f.jsx)("select",{name:"filter",onChange:function(e){return function(e){var t=e.target.value;r(Object(u.a)(Object(u.a)({},c),{},{filter:t}))}(e)},className:" m-8 p-2 px-10 bg-white focus:outline-none shadow-md",children:t.map((function(e){var t=e.name,n=e.value;return Object(f.jsx)("option",{value:n,children:t},n)}))})};var w=function(e){var t=e.options,n=e.loading,c=Object(a.useContext)(b),r=c.filters,o=c.setFilter;return Object(f.jsx)("select",{name:"option",onChange:function(e){return function(e){var t=e.target.value;o(Object(u.a)(Object(u.a)({},r),{},{option:t}))}(e)},className:" m-8 p-2 px-10 bg-white focus:outline-none shadow-md",children:!n&&t.map((function(e){return""!==e&&Object(f.jsx)("option",{value:e.value,children:e.name},e.name)}))})},y=[{name:"Escolha uma op\xe7\xe3o",value:""},{name:"Pa\xeds",value:"country"},{name:"Regi\xe3o",value:"region"},{name:"L\xedngua",value:"language"},{name:"Capital",value:"capital"},{name:"C\xf3digo de Liga\xe7\xe3o",value:"call-code"}];var N=function(){var e,t=Object(a.useContext)(b).filters,n=t.filter,c=t.filterOptions,r=t.loaded,o=c,s=r?o.map((function(e){var t=e.alpha2Code;return[e.name,t]})).reduce((function(e,t){return e.some((function(e){return e.name===t}))||""===t?e:[].concat(Object(v.a)(e),[{name:t[0],value:t[1]}])}),[]):"Carregando...",i=r?o.map((function(e){return e.region})).reduce((function(e,t){return e.some((function(e){return e.name===t}))||""===t?e:[].concat(Object(v.a)(e),[{name:t,value:t}])}),[]):"Carregando...",u=r?o.map((function(e){return e.languages[0]})).reduce((function(e,t){return e.some((function(e){return e.name===t.name}))||""===t?e:[].concat(Object(v.a)(e),[{name:t.name,value:t.iso639_1}])}),[]):"Carregando...",l=r?o.map((function(e){return e.callingCodes[0]})).reduce((function(e,t){return e.some((function(e){return e.name===t}))||""===t?e:[].concat(Object(v.a)(e),[{name:t,value:t}])}),[]):"Carregando...",j=r?o.map((function(e){return e.capital})).reduce((function(e,t){return e.some((function(e){return e.name===t}))||""===t?e:[].concat(Object(v.a)(e),[{name:t,value:t}])}),[]):"Carregando...",d=function(e){return e?["Escolha uma op\xe7\xe3o"].concat(Object(v.a)(e)):["Escolha uma op\xe7\xe3o"]};switch(n){case"country":e=d(s);break;case"region":e=d(i);break;case"language":e=d(u);break;case"call-code":e=d(l);break;case"capital":e=d(j);break;default:e=d()}return Object(f.jsxs)("div",{className:" flex flex-col justify-between lg:flex-row lg:justify-start w-full",children:[Object(f.jsx)(g,{options:y}),""!==n&&Object(f.jsx)(w,{options:e})]})};var C=function(){var e=Object(a.useContext)(b),t=e.data,n=e.setData,c=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(u.a)(Object(u.a)({},t),{},{loading:!0}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("button",{type:"button",onClick:function(){return c()},className:" bg-purple-800 text-white m-8 p-2 px-4 font-bold rounded-2xl focus:outline-none hover:opacity-80 duration-500",children:"Pesquisar"})};var k=function(){return Object(f.jsxs)("div",{className:"flex xl:justify-between xl:flex-row sm:flex-col",children:[Object(f.jsx)(N,{}),Object(f.jsx)(C,{})]})};var P=function(){return Object(f.jsx)("p",{children:"Loading..."})};var E=function(e){var t=e.country;return Object(f.jsx)("div",{className:"w-1/4 m-4 hover:opacity-80 duration-500",children:t&&Object(f.jsx)(x.b,{to:"/countries/".concat(t.alpha2Code||t[0].alpha2Code),children:Object(f.jsx)("img",{src:t.flag||t[0].flag,alt:"".concat(t.name||t[0].name," flag")},t.name||t[0].name)})})};var S=function(){var e=Object(a.useContext)(b).data,t=e.countries,n=e.loading,c=e.currentPage;return n?Object(f.jsx)(P,{}):Object(f.jsx)("section",{className:" flex items-center xl:flex-row xl:flex-wrap xl:justify-center xl:h-4/6 sm: flex-col",children:(t.length>3?[t[0+3*c],t[1+3*c],t[2+3*c]]:[t]).map((function(e){return Object(f.jsx)(E,{country:e},e.name)}))})};var D=function(){var e=Object(a.useContext)(b),t=e.data,n=t.countries,c=t.currentPage,r=e.setData,o=e.data,s=Object(a.useState)(n.length/3),i=Object(j.a)(s,2),l=i[0],d=i[1];Object(a.useEffect)((function(){d(n.length/3)}),[n]);for(var x=[],p=0;p<=l;p+=1)x.push(p);return Object(f.jsx)("div",{className:"flex mx-8 justify-center",children:(x.length<=3?[0]:[c<=0?null:c-1,c,c===l-1?null:c+1]).map((function(e){return null!==e?Object(f.jsx)("button",{type:"button",onClick:function(){return function(e){r(Object(u.a)(Object(u.a)({},o),{},{currentPage:e}))}(e)},name:e,className:"\n              m-1\n              p-1\n              px-2\n              text-purple-800\n              font-bold\n              focus:outline-none\n              hover:opacity-80 duration-500\n              ".concat(c===e&&"bg-purple-800 text-white border rounded-xl","\n            "),children:e},e):null}))})};var F=function(){return Object(f.jsxs)("main",{className:"h-full",children:[Object(f.jsx)(k,{}),Object(f.jsx)(S,{}),Object(f.jsx)(D,{})]})};var L=function(e){var t=Object(a.useContext)(b),n=t.filters.filterOptions,c=t.filters,r=t.setFilter,o=t.data,s=t.setData,d=e.match.params.id,p="".concat("https://restcountries.eu/rest/v2/alpha/").concat(d),m=Object(a.useState)({country:"",loading:!0}),O=Object(j.a)(m,2),h=O[0],v=O[1];if(Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,v(Object(u.a)(Object(u.a)({},h),{},{country:n,loading:!1}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p,h]),h.loading)return Object(f.jsx)(P,{});var g,w=h.country,y=w.name,N=w.flag,C=w.region,k=w.population,S=w.capital,D=w.subregion,F=w.languages,L=w.borders;return Object(f.jsxs)("main",{children:[Object(f.jsxs)("div",{className:"flex flex-col items-center sm:flex-row",children:[Object(f.jsx)("img",{className:"m-6 w-1/2",src:N,alt:"".concat(y," flag")}),Object(f.jsxs)("ul",{children:[Object(f.jsxs)("li",{className:"text-2xl",children:["Nome: ",y]}),Object(f.jsxs)("li",{className:"text-2xl",children:["Capital: ",S]}),Object(f.jsxs)("li",{className:"text-2xl",children:["Regi\xe3o:",Object(f.jsx)(x.b,{to:"/",children:Object(f.jsx)("button",{type:"button",onClick:function(){return e=C,s(Object(u.a)(Object(u.a)({},o),{},{loading:!0})),void r(Object(u.a)(Object(u.a)({},c),{},{filter:"region",option:e}));var e},children:C})})]}),Object(f.jsxs)("li",{className:"text-2xl",children:["Sub-regi\xe3o: ",D]}),Object(f.jsxs)("li",{className:"text-2xl",children:["Popula\xe7\xe3o: ",k]}),Object(f.jsxs)("li",{className:"text-2xl",children:["L\xednguas: ",F.map((function(e,t){return 0===t&&t.length>1?"".concat(e.name,", "):t===F.length-1?"".concat(e.name,"."):"".concat(e.name,", ")}))]})]})]}),Object(f.jsx)("h2",{className:"m-6",children:"Pa\xedses Vizinhos"}),Object(f.jsx)("div",{className:"flex",children:0===L.length?Object(f.jsx)("p",{className:"m-6",children:"Este pa\xeds n\xe3o possui vizinhos."}):(g=L,g.map((function(e){return n.filter((function(t){return t.alpha3Code===e}))}))).map((function(e){return Object(f.jsx)(E,{country:e[0]})}))})]})};var _=function(){return Object(f.jsxs)(x.a,{children:[Object(f.jsx)(h,{}),Object(f.jsxs)(p.c,{children:[Object(f.jsx)(p.a,{path:"/countries/:id",render:function(e){return Object(f.jsx)(L,Object(u.a)({},e))}}),Object(f.jsx)(p.a,{exact:!0,path:"/",component:F})]})]})};var z=function(){return Object(f.jsx)("main",{className:"h-screen",children:Object(f.jsx)(_,{})})};var I=function(){return Object(f.jsx)(d,{children:Object(f.jsx)(z,{})})};n(44);o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.e1b1ce39.chunk.js.map